\section{Implementation-Ready GLP (irGLP)}\label{appendix:irGLP}

This appendix specifies irGLP, an implementation-ready transition system for single-agent (workstation) GLP execution. While the GLP transition system (Definition~\ref{def:glp-ts}) is nondeterministic in goal selection and abstracts away suspension and failure, irGLP provides:
\begin{enumerate}
\item Deterministic FIFO scheduling of active goals
\item Explicit tracking of suspended goals with their suspension sets
\item Explicit tracking of failed goals
\item Automatic reactivation of suspended goals when blocking readers are instantiated
\end{enumerate}

The key simplification compared to multiagent GLP is that all variables are local, so reader assignments can be applied immediately rather than through asynchronous communication.

\begin{definition}[irGLP Configuration]\label{def:irglp-configuration}
An \temph{irGLP configuration} over program $P$ is a triple $(Q, S, F)$ where:
\begin{itemize}
\item $Q \in \calA_?^*$ is a sequence (queue) of \temph{active goals}
\item $S \subseteq \calA_? \times 2^{\calV?}$ contains \temph{suspended goals}, each paired with its suspension set of blocking readers
\item $F \subseteq \calA_?$ contains \temph{failed goals}
\end{itemize}
\end{definition}

\begin{definition}[Reactivation Set]\label{def:reactivation-set}
Given a suspended goal set $S$ and a readers substitution $\sigma?$, the \temph{reactivation set} is:
\[
\textrm{reactivate}(S, \sigma?) = \{G : (G, W) \in S \wedge \exists X? \in W.\; X?\sigma? \neq X?\}
\]
These are goals suspended on readers that have been instantiated by $\sigma?$.
\end{definition}

\begin{definition}[irGLP Transition System]\label{def:irglp-ts}
The transition system $\textrm{irGLP}(P) = (\calC, c_0, \calT)$ over GLP program $P$ and initial goal $G_0$ satisfying SO is defined by:
\begin{enumerate}
\item $\calC$ is the set of all irGLP configurations over $P$
\item $c_0 = (G_0, \emptyset, \emptyset)$
\item $\calT$ is the set of all transitions $(Q, S, F) \rightarrow (Q', S', F')$ where $Q = A \cdot Q_r$ (head goal $A$, remainder $Q_r$) and exactly one of the following holds:

\begin{enumerate}
\item \textbf{Reduce:} There exists a first clause $C \in P$ for which the GLP reduction of $A$ with $C$ (Definition~\ref{def:glp-reduction}) succeeds with $(B, \hat\sigma)$. Let $R = \textrm{reactivate}(S, \hat\sigma?)$. Then:
\[
Q' = (Q_r \cdot B \cdot R)\hat\sigma\hat\sigma?, \quad S' = S \setminus \{(G, W) : G \in R\}, \quad F' = F
\]

\item \textbf{Suspend:} No clause succeeds, but the GLP reduction of $A$ with at least one clause $C \in P$ suspends. Let $W = \bigcup_{C \in P} W_C$ where $W_C$ is the suspension set for clause $C$. Then:
\[
Q' = Q_r, \quad S' = S \cup \{(A, W)\}, \quad F' = F
\]

\item \textbf{Fail:} No clause succeeds and no clause suspends (all clauses fail outright). Then:
\[
Q' = Q_r, \quad S' = S, \quad F' = F \cup \{A\}
\]
\end{enumerate}
\end{enumerate}
\end{definition}

\begin{remark}[Deterministic Scheduling]
The irGLP transition system is deterministic: given any non-terminal configuration, exactly one transition is enabled. Goal selection follows FIFO order from the active queue $Q$, and clause selection uses the first applicable clause as in GLP. The only source of nondeterminism in GLP—and-nondeterminism in goal selection—is resolved by the queue discipline.
\end{remark}

\begin{remark}[Immediate Reader Application]
In irGLP, reader substitutions $\hat\sigma?$ are applied immediately during reduction rather than through separate Communicate transitions as in the GLP transition system. This is sound for single-agent execution where all variables are local. The substitution $\hat\sigma\hat\sigma?$ in the Reduce transition applies both the writer assignments (to clause body variables) and their reader counterparts (to goals containing the corresponding readers).
\end{remark}

\begin{proposition}[irGLP Implements GLP]\label{prop:irglp-implements-glp}
For any irGLP run, projecting away the $S$ and $F$ components and interleaving Communicate transitions yields a valid GLP run. Conversely, any GLP run with FIFO goal selection and first-clause selection corresponds to an irGLP run.
\end{proposition}
